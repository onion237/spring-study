2장 테스트
[UserDaoTest 다시보기]
#UserDaoTest의 특징 
- 손쉽게 실행 가능한 main()메소드를 이용
- UserDao의 오브젝트를 가져와 메소드를 호출 
- User오브젝트를 직접 코드에서 만들어 넣는다
- 콘솔 출력

#웹을 통한 DAO테스트 방법의 문제점
- DAO뿐만 아니라 서비스 클래스, 컨트롤러, jsp 뷰 등 모든 레이어의 기능을 다 만들고 테스트 가능
- 테스트할 대상인 DAO의 문제가 아니라 서버환경에서 웹화면을 통해 DAO를 테스트하려고 만든 다른 코드 때문에 에러가 나서 테스트가 실패할 수 있는 가능성 존재

#작은 단위의 테스트
- 작은 단위로 쪼개서 집중 할 수 있어야 함
- 단위의 코드에 대해 테스트를 수행하는 단위테스가 있음
- UserDaoTest는 UserDao라는 작은 단위의 데이터 액세스 기능만을 테스트하기 위해 만들어졌고, 그 외의 계층이 참여하지 않기 때문에 단위테스트에 해당

#UserDaoTest의 문제점
- 수동 확인 작업의 번거로움 ex) add()에서 User정보를 DB에 등록하고, 이를 다시 get()을 이용해 가져왔을 때 입력값과 가져온 값이 일치하는지 확인 해주지 않는다
- 실행 작업의 번거로움 main메소드를 배번 실행해야함

[UserDaoTest 개선]
- 테스트의 에러: 테스트가 진행되는 동안 에러발생 -> 쉽게 확인 가능, 콘솔에 에러 메시지와 긴 호출 스택 정보 출력
- 테스트 실패: 에러가 발생하진 않았지만 결과가 기대한 것과 다르게 나오는 경우 -> 별도의 확인 작업과그 결과가 있어야 알 수 있음

- 기존에 출력했던 "조회성공"은 get()메소드가 에러없이 끝났다는 의미이지 조회 테스트가 모두 성공했다는 의미가 아님

#테스트의 효율적인 수행과 결과 관리
- 애플리케이션 규모가 커지고 테스트 개수가 많아지면 테스트를 수행하는 일이 부담이 됨

#JUnit 테스트로 전환
- main()메소드도 필요없고 오브젝트를 만들어서 실행시키는 코드를 만들 필요도 없음

#테스트 메소드 전환
- 첫째: public으로 선언돼야 함
- 둘째: @Test 애노테이션을 붙여야 함 
- main() 대신에 일반 메소드로 만들고, 적절한 이름 필요
- if/else문장을 JUnit이 제공하는 방법을 이용해 전환 -> if문은 처음 add()에 사용했던 user오브젝트의 name 값과 get()에서 가져온 user2오브젝트의 name값이 같으면 넘어가고 아니면 테스트 실패
  ex) if(!user.getName().equals(user2.getName())){ ... } -> assertThat(user2.getName(), is(user.getName()));
